<html>
<head>
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/jquery-2.1.0.js"></script>
    <script>
    	var path = "";

        $(function() {
            var iosocket = io.connect();
            var svgCon = $("#mainSvg");

            svgCon.on("click", function(event) {
                path += event.offsetX + "," + event.offsetY + " ";

                document.getElementById('path').setAttribute("d", path);

               iosocket.send(path); 
            });

            iosocket.on('connect', function () {
                $('#status').text('Status: Connected');
            });

            iosocket.on('message', function(data) {
                path = data;
                document.getElementById('path').setAttribute("d", data);
            });
            
            iosocket.on('disconnect', function() {
                $('#status').text('Status: Disconnected');
            });
        });
	</script>
   
</head>
<body>
	<p id='status'>Status: Disconnected</p>
	<hr>
	<svg id="mainSvg">
      <path id="path" style="fill:none;stroke:black;stroke-width:3"/>
      Sorry, your browser does not support inline SVG.
    </svg>
</body>
</html>